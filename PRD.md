# 제품 요구사항 문서 (PRD)
## 일본어 학습 웹앱 프로젝트

**프로젝트명**: J-Flash (Japanese Flashcard Learning System)  
**버전**: 1.0  
**작성일**: 2024  
**대상 사용자**: 일본어 교재로 독학 중인 학습자

---

## 1. 제품 개요

### 1.1 제품 비전
교재를 사진으로 촬영하여 단어, 문법, 한자를 자동 추출하고, Anki 스타일의 반복 학습을 통해 효율적으로 암기할 수 있는 개인용 웹 애플리케이션.

### 1.2 핵심 가치 제안
- **시간 절약**: 수동 단어장 작성 불필요, OCR로 자동 추출
- **맞춤형 학습**: 본인이 공부하는 교재에 최적화된 단어장
- **과학적 암기**: SRS 알고리즘 기반 반복 학습으로 장기 기억 강화
- **완전 로컬**: 개인 데이터의 완전한 프라이버시 보호

---

## 2. 사용자 페르소나

### 2.1 주요 사용자
**이름**: 김학습  
**나이**: 20-30대  
**특징**:
- 일본어 교재(일본어능력시험 N3~N1 교재 등)로 독학 중
- 수동으로 단어장을 만드는 것이 번거로워서 앱 사용을 고려
- Anki 같은 앱을 사용해본 경험 있음
- 모바일보다는 PC/노트북으로 학습하는 것을 선호

### 2.2 사용자 시나리오

#### 시나리오 1: 교재에서 단어 추출
```
1. 교재 5페이지를 공부한 후, 해당 페이지를 사진으로 촬영
2. 앱에 이미지 업로드
3. OCR로 텍스트 자동 인식 → 단어 목록 제안
4. 잘못 인식된 단어는 수동으로 수정
5. 저장 후 단어장에 추가
```

#### 시나리오 2: 반복 학습
```
1. "오늘의 복습" 메뉴 클릭
2. 플래시카드 형태로 단어가 표시됨
3. 앞면(한자): 食べる
4. 클릭하여 뒷면 확인: 읽기(たべる), 뜻(먹다)
5. "알고 있음" 클릭 → 다음 복습일이 자동으로 설정됨
6. "모름" 클릭 → 다음날 다시 복습 예정
```

#### 시나리오 3: 문법 정리
```
1. 교재에서 중요한 문법 포인트 발견
2. "문법 추가" 메뉴에서 문법 제목, 설명, 예문 입력
3. 저장 후 나중에 문법 목록에서 조회 가능
```

---

## 3. 기능 요구사항

### 3.1 핵심 기능 (Must-Have)

#### A. 이미지 업로드 및 OCR 처리
- **FR-001**: 로컬 이미지 파일(jpg, png)을 드래그 앤 드롭 또는 파일 선택으로 업로드
- **FR-002**: 업로드된 이미지에서 일본어 텍스트 자동 인식 (OCR)
- **FR-003**: 인식된 텍스트를 형태소 분석하여 단어 단위로 분리
- **FR-004**: 추출된 단어 목록을 UI에 표시 (한자, 읽기, 품사)
- **FR-005**: 사용자가 추출 결과를 수동으로 수정할 수 있는 편집 인터페이스

**성공 기준**:
- OCR 정확도 80% 이상 (명확한 이미지 기준)
- 한자와 후리가나를 구분하여 인식
- 1페이지당 처리 시간 10초 이내

#### B. 단어 관리
- **FR-006**: 단어 추가 (한자, 읽기, 뜻, 품사)
- **FR-007**: 단어 수정 및 삭제
- **FR-008**: 단어 목록 조회 (검색, 필터링 기능)
- **FR-009**: 단어별 원본 이미지 링크 저장 (어디서 추출되었는지 추적)

**성공 기준**:
- 단어 저장/수정 시 즉시 DB에 반영
- 단어 검색 시 실시간 결과 표시

#### C. 플래시카드 학습 (Anki 스타일)
- **FR-010**: SRS 알고리즘 기반 복습 일정 관리
- **FR-011**: "오늘의 복습" 카드 조회 (next_review <= 오늘)
- **FR-012**: 플래시카드 앞면 표시 (한자 또는 단어)
- **FR-013**: 클릭 시 뒷면 표시 (읽기, 뜻)
- **FR-014**: "알고 있음" / "모름" 버튼으로 학습 결과 입력
- **FR-015**: 학습 결과에 따라 다음 복습일 자동 계산 (SM-2 알고리즘)

**성공 기준**:
- 복습 일정이 과학적으로 관리됨 (망각 곡선 고려)
- 사용자가 하루에 적절한 양의 카드를 학습할 수 있음 (20-30개 권장)

#### D. 문법 관리
- **FR-016**: 문법 항목 추가 (제목, 설명, 예문)
- **FR-017**: 문법 목록 조회 및 검색
- **FR-018**: 문법 난이도 레벨 설정 (N5~N1)

#### E. 한자 학습
- **FR-019**: 단어에 포함된 한자 정보 자동 추출
- **FR-020**: 한자별 음독/훈독 표시
- **FR-021**: 한자 획수 및 의미 표시 (선택사항)

### 3.2 중요 기능 (Should-Have)

#### F. 통계 및 대시보드
- **FR-022**: 전체 단어 수, 학습 진행도 표시
- **FR-023**: 일별 학습 통계 (학습한 카드 수)
- **FR-024**: 정답률 그래프

#### G. 데이터 내보내기/가져오기
- **FR-025**: 단어장을 CSV/JSON 형태로 내보내기
- **FR-026**: 외부에서 만든 단어장 가져오기

### 3.3 향후 기능 (Could-Have)

- 음성 합성(TTS)으로 읽기 발음 듣기
- 단어 예문 자동 생성 (AI 활용)
- 모바일 앱 버전
- 클라우드 동기화

---

## 4. 비기능 요구사항

### 4.1 성능
- **NFR-001**: 이미지 OCR 처리 시간: 10초 이내 (1페이지 기준)
- **NFR-002**: 단어 검색 응답 시간: 500ms 이내
- **NFR-003**: 동시에 1000개 이상의 단어 관리 가능

### 4.2 사용성
- **NFR-004**: 직관적인 UI/UX (초보자도 5분 이내 사용법 파악)
- **NFR-005**: 키보드 단축키 지원 (스페이스바로 카드 뒤집기 등)

### 4.3 호환성
- **NFR-006**: 최신 Chrome, Firefox, Safari 브라우저 지원
- **NFR-007**: macOS, Windows, Linux 로컬 환경에서 실행 가능

### 4.4 보안 및 프라이버시
- **NFR-008**: 모든 데이터는 로컬에만 저장 (클라우드 업로드 없음)
- **NFR-009**: 이미지 파일도 로컬 디렉토리에만 저장

### 4.5 안정성
- **NFR-010**: SQLite DB 백업 기능 제공
- **NFR-011**: 예외 처리 및 에러 메시지 표시

---

## 5. 기술 제약사항

### 5.1 OCR 정확도 한계
- 손글씨나 매우 흐릿한 이미지는 정확도가 낮을 수 있음
- 해결책: 사용자 수동 교정 기능 필수

### 5.2 형태소 분석 한계
- 일본어는 띄어쓰기가 없어 문맥에 따라 해석이 달라질 수 있음
- 해결책: 여러 후보를 제시하고 사용자가 선택

### 5.3 로컬 환경 의존성
- MeCab 또는 형태소 분석 라이브러리 설치 필요
- 해결책: 설치 가이드 제공 및 Docker 컨테이너 옵션 제공

---

## 6. 성공 지표 (KPI)

### 6.1 사용성 지표
- 사용자가 단어 한 개를 추가하는 데 걸리는 평균 시간: 30초 이내
- 일일 활성 사용자(DAU): 주 3회 이상 사용

### 6.2 학습 효율성 지표
- 사용자가 실제로 복습하는 카드 수: 하루 평균 20개 이상
- 단어 암기율 향상 (사용자 자체 평가)

### 6.3 기술 지표
- OCR 정확도: 80% 이상
- 시스템 다운타임: 0% (로컬 환경이므로)

---

## 7. 우선순위 매트릭스

| 기능 | 우선순위 | 난이도 | MVP 포함 여부 |
|------|---------|--------|--------------|
| 이미지 업로드 + OCR | P0 (최고) | 중 | ✅ |
| 단어 추가/수정/삭제 | P0 | 낮 | ✅ |
| 기본 플래시카드 | P0 | 중 | ✅ |
| SRS 알고리즘 | P0 | 중 | ✅ |
| 단어 검색/필터 | P1 | 낮 | ✅ |
| 문법 관리 | P1 | 낮 | ❌ (v1.1) |
| 한자 정보 표시 | P1 | 중 | ❌ (v1.1) |
| 통계 대시보드 | P2 | 낮 | ❌ (v1.2) |
| 데이터 내보내기 | P2 | 낮 | ❌ (v1.2) |
| TTS 음성 합성 | P3 | 높음 | ❌ (v2.0) |

---

## 8. 리스크 및 대응 방안

| 리스크 | 영향도 | 확률 | 대응 방안 |
|--------|--------|------|----------|
| OCR 정확도가 너무 낮음 | 높음 | 중 | 수동 교정 UI 강화, 여러 OCR 엔진 비교 |
| 형태소 분석 라이브러리 설치 복잡 | 중 | 높음 | Docker 컨테이너 제공, 설치 가이드 상세화 |
| SRS 알고리즘이 사용자에게 맞지 않음 | 중 | 낮음 | 알고리즘 파라미터 조정 가능하도록 설정 추가 |
| 데이터 손실 | 높음 | 낮음 | 정기 백업 기능, SQLite 파일 버전 관리 |

---

## 9. 참고 자료

- [Anki 공식 사이트](https://apps.ankiweb.net/)
- [SM-2 알고리즘 논문](https://www.supermemo.com/en/archives1990-2015/english/ol/sm2)
- [EasyOCR GitHub](https://github.com/JaidedAI/EasyOCR)
- 일본어 능력시험(JLPT) 단어 리스트 참고

---

**문서 승인**:  
- 작성자: [이름]  
- 검토자: [이름]  
- 승인일: [날짜]